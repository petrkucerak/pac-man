\doxysection{game.\+c File Reference}
\label{game_8c}\index{game.c@{game.c}}


Module where the game is taking place.  


{\ttfamily \#include \char`\"{}game.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}update\+\_\+peripherals.\+h\char`\"{}}\newline
{\ttfamily \#include $<$stdlib.\+h$>$}\newline
{\ttfamily \#include $<$stdio.\+h$>$}\newline
{\ttfamily \#include \char`\"{}draw\+\_\+shapes.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}map\+\_\+to\+\_\+fb.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}map\+\_\+from\+\_\+template.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}config.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}text\+\_\+fb.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}font\+\_\+types.\+h\char`\"{}}\newline
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
int \textbf{ run\+\_\+game} (\textbf{ game\+\_\+init\+\_\+data\+\_\+t} $\ast$game\+\_\+data, \textbf{ peripherals\+\_\+data\+\_\+t} $\ast$peripherals)
\begin{DoxyCompactList}\small\item\em Initialises all necessary data structures and loops the game tick and refreshing screen while the player has not won, lost or pressed the q key. \end{DoxyCompactList}\item 
void \textbf{ led\+\_\+blink} (unsigned char $\ast$led\+\_\+mem\+\_\+base, int scare\+\_\+countdown, int pacman\+\_\+score)
\begin{DoxyCompactList}\small\item\em Internal functions for setting the color of RGB leds according to the game state. \end{DoxyCompactList}\item 
bool \textbf{ game\+\_\+tick} (\textbf{ map\+\_\+data} $\ast$map, \textbf{ pacman\+\_\+type} $\ast$pacman, \textbf{ ghost\+\_\+type} $\ast$ghost\+\_\+arr, int num\+\_\+ghosts, int $\ast$scare)
\begin{DoxyCompactList}\small\item\em moves pacman and each ghost one step, checking for collisions and user input \end{DoxyCompactList}\item 
void \textbf{ pause\+\_\+game} (\textbf{ fb\+\_\+data} $\ast$fb, \textbf{ peripherals\+\_\+data\+\_\+t} $\ast$peripherals)
\begin{DoxyCompactList}\small\item\em displays the pause message and waits for user to press the pause of quit key \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Module where the game is taking place. 

\begin{DoxyAuthor}{Author}
Lukas Nejezchleb ({\texttt{ nejezluk@fel.\+cvut.\+cz}}), Petr Kucera ({\texttt{ kucerp28@fel.\+cvut.\+cz}}) 
\end{DoxyAuthor}
\begin{DoxyVersion}{Version}
0.\+1 
\end{DoxyVersion}
\begin{DoxyDate}{Date}
2021-\/05-\/04
\end{DoxyDate}
\begin{DoxyCopyright}{Copyright}
Copyright (c) 2021 
\end{DoxyCopyright}


\doxysubsection{Function Documentation}
\mbox{\label{game_8c_ac055e6ae3ef32e12a7c56e62bae12db3}} 
\index{game.c@{game.c}!game\_tick@{game\_tick}}
\index{game\_tick@{game\_tick}!game.c@{game.c}}
\doxysubsubsection{game\_tick()}
{\footnotesize\ttfamily bool game\+\_\+tick (\begin{DoxyParamCaption}\item[{\textbf{ map\+\_\+data} $\ast$}]{map,  }\item[{\textbf{ pacman\+\_\+type} $\ast$}]{pacman,  }\item[{\textbf{ ghost\+\_\+type} $\ast$}]{ghost\+\_\+arr,  }\item[{int}]{num\+\_\+ghosts,  }\item[{int $\ast$}]{scare }\end{DoxyParamCaption})}



moves pacman and each ghost one step, checking for collisions and user input 


\begin{DoxyParams}{Parameters}
{\em map} & \\
\hline
{\em pacman} & \\
\hline
{\em ghost\+\_\+arr} & \\
\hline
{\em num\+\_\+ghosts} & \\
\hline
{\em scare} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
true 

false 
\end{DoxyReturn}
\mbox{\label{game_8c_af84e8ae88873f09731321e62e77a1d18}} 
\index{game.c@{game.c}!led\_blink@{led\_blink}}
\index{led\_blink@{led\_blink}!game.c@{game.c}}
\doxysubsubsection{led\_blink()}
{\footnotesize\ttfamily void led\+\_\+blink (\begin{DoxyParamCaption}\item[{unsigned char $\ast$}]{led\+\_\+mem\+\_\+base,  }\item[{int}]{scare\+\_\+countdown,  }\item[{int}]{pacman\+\_\+score }\end{DoxyParamCaption})}



Internal functions for setting the color of RGB leds according to the game state. 


\begin{DoxyParams}{Parameters}
{\em led\+\_\+mem\+\_\+base} & \\
\hline
{\em scare\+\_\+countdown} & \\
\hline
{\em pacman\+\_\+score} & \\
\hline
\end{DoxyParams}
\mbox{\label{game_8c_a0e947670754754c65011a151d82e2c36}} 
\index{game.c@{game.c}!pause\_game@{pause\_game}}
\index{pause\_game@{pause\_game}!game.c@{game.c}}
\doxysubsubsection{pause\_game()}
{\footnotesize\ttfamily void pause\+\_\+game (\begin{DoxyParamCaption}\item[{\textbf{ fb\+\_\+data} $\ast$}]{fb,  }\item[{\textbf{ peripherals\+\_\+data\+\_\+t} $\ast$}]{peripherals }\end{DoxyParamCaption})}



displays the pause message and waits for user to press the pause of quit key 


\begin{DoxyParams}{Parameters}
{\em fb} & \\
\hline
{\em peripherals} & \\
\hline
\end{DoxyParams}
\mbox{\label{game_8c_a72619e4d9b2b733c33327a53154c126b}} 
\index{game.c@{game.c}!run\_game@{run\_game}}
\index{run\_game@{run\_game}!game.c@{game.c}}
\doxysubsubsection{run\_game()}
{\footnotesize\ttfamily int run\+\_\+game (\begin{DoxyParamCaption}\item[{\textbf{ game\+\_\+init\+\_\+data\+\_\+t} $\ast$}]{game\+\_\+data,  }\item[{\textbf{ peripherals\+\_\+data\+\_\+t} $\ast$}]{peripherals }\end{DoxyParamCaption})}



Initialises all necessary data structures and loops the game tick and refreshing screen while the player has not won, lost or pressed the q key. 


\begin{DoxyParams}{Parameters}
{\em game\+\_\+data} & \\
\hline
{\em peripherals} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
int pac-\/man game score 
\end{DoxyReturn}
